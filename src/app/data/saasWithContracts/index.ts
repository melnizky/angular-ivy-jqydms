import {
  GrantType,
  DynatraceAccount,
  Environment,
  featuresDisabledTemplate,
  featuresEnabledTemplate,
  SKU,
  Grant,
  AllocItem,
  Contract,
} from '../../models';

export const saasWithContractsContracts: Contract[] = [
  {
    id: '1',
    start: Date.UTC(2019, 0, 1),
    end: Date.UTC(2021, 2, 31),
  },
  {
    id: '2',
    start: Date.UTC(2021, 3, 1),
    end: Date.UTC(2022, 2, 31),
  },
];

export const saasWithContractsAccount: DynatraceAccount = {
  id: 'account-saas',
  name: 'SaaS with two contracts',
  consumption: [],
  features: { ...featuresDisabledTemplate },
  manualSettingsForFeatures: { ...featuresEnabledTemplate },
};

const envA: Environment = {
  id: 'cxs95594',
  name: 'PROD - cxs95594',
  account: saasWithContractsAccount,
  consumption: [],
  children: [],
  features: { ...featuresDisabledTemplate },
  manualSettingsForFeatures: { ...featuresEnabledTemplate },
};

const envB: Environment = {
  id: 'inh77359',
  name: 'Sandbox - inh77359',
  account: saasWithContractsAccount,
  consumption: [],
  children: [],
  features: { ...featuresDisabledTemplate },
  manualSettingsForFeatures: { ...featuresEnabledTemplate },
};

const envC: Environment = {
  id: 'elf55360',
  name: 'NONPROD elf55360',
  account: saasWithContractsAccount,
  consumption: [],
  children: [],
  features: { ...featuresDisabledTemplate },
  manualSettingsForFeatures: { ...featuresEnabledTemplate },
};

saasWithContractsAccount.children = [envA, envB, envC];

export const saasWithContractsGrants: Grant[] = [
  {
    from: Date.UTC(2021, 3, 1),
    to: Date.UTC(2022, 2, 31),
    type: GrantType.Paid,
    priority: 2,
    consumption: [],
    sku: SKU.HUH,
    amount: 20000,
    remainingAmount: 20000,
    id: 'sb.001.huh',
    nodeId: 'account-saas',
    canBeSplit: true,
    contractId: '2',
  },
  {
    from: Date.UTC(2019, 0, 1),
    to: Date.UTC(2021, 2, 31),
    type: GrantType.Paid,
    priority: 2,
    consumption: [],
    sku: SKU.HUH,
    amount: 5000,
    remainingAmount: 125,
    id: 'sb.001.huh',
    nodeId: 'account-saas',
    canBeSplit: true,
    contractId: '1',
  },
  {
    from: Date.UTC(2021, 3, 1),
    to: Date.UTC(2022, 2, 31),
    type: GrantType.Paid,
    priority: 2,
    consumption: [],
    sku: SKU.DEM,
    amount: 25_000_000,
    remainingAmount: 25_000_000,
    id: 'sb.001.dem',
    nodeId: 'account-saas',
    canBeSplit: true,
    contractId: '2',
  },
  {
    from: Date.UTC(2021, 3, 1),
    to: Date.UTC(2022, 2, 31),
    type: GrantType.Paid,
    priority: 3,
    consumption: [],
    sku: SKU.DPS,
    amount: 2_000_000,
    remainingAmount: 2_000_000,
    id: 'sb.001.dem',
    nodeId: 'account-saas',
    canBeSplit: true,
    contractId: '2',
  },
  {
    from: Date.UTC(2019, 0, 1),
    to: Date.UTC(2021, 2, 31),
    type: GrantType.Paid,
    priority: 2,
    consumption: [],
    sku: SKU.DEM,
    amount: 10_000_000,
    remainingAmount: 340_000,
    id: 'sb.001.dem',
    nodeId: 'account-saas',
    canBeSplit: true,
    contractId: '1',
  },
  {
    from: Date.UTC(2021, 3, 1),
    to: Date.UTC(2022, 2, 31),
    type: GrantType.Paid,
    priority: 2,
    consumption: [],
    sku: SKU.DDU,
    amount: 10_000_000,
    remainingAmount: 10_000_000,
    id: 'sb.001.ddu',
    nodeId: 'account-saas',
    canBeSplit: true,
    contractId: '2',
  },
  {
    from: Date.UTC(2021, 3, 1),
    to: Date.UTC(2022, 2, 31),
    type: GrantType.Free,
    priority: 1,
    consumption: [],
    sku: SKU.DDU,
    amount: 200_000,
    remainingAmount: 200_000,
    id: 'sb.001.ddu-free',
    nodeId: 'cxs95594',
    canBeSplit: false,
    contractId: '2',
  },
  {
    from: Date.UTC(2021, 3, 1),
    to: Date.UTC(2022, 2, 31),
    type: GrantType.Free,
    priority: 1,
    consumption: [],
    sku: SKU.DDU,
    amount: 200_000,
    remainingAmount: 200_000,
    id: 'sb.001.ddu-free',
    nodeId: 'inh77359',
    canBeSplit: false,
    contractId: '2',
  },
  {
    from: Date.UTC(2021, 3, 1),
    to: Date.UTC(2022, 2, 31),
    type: GrantType.Free,
    priority: 1,
    consumption: [],
    sku: SKU.DDU,
    amount: 200_000,
    remainingAmount: 200_000,
    id: 'sb.001.ddu-free',
    nodeId: 'elf55360',
    canBeSplit: false,
    contractId: '2',
  },
];

export const saasWithContractsAllocs: AllocItem[] = [];
