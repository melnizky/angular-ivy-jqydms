<br /><br />
<h4>Consumption on subscription level</h4>
<table>
  <tr>
    <th>Prio</th>
    <th>ID</th>
    <th>Amount</th>
    <th>SKU / Feature</th>
    <th>Type</th>
    <th>From - To</th>
  </tr>
  <ng-container *ngFor="let i of items">
    <tr class="allocitem">
      <td>#{{ i.priority }}</td>
      <td>{{ i.id }}</td>
      <td>
        {{ i.remainingAmount | makeNice: 2 }} / {{ i.amount | makeNice: 2 }}
      </td>
      <td>{{ i.sku }}</td>
      <td>{{ i.type }}</td>
      <td>{{ i.from | date }} - {{ i.to | date }}</td>
    </tr>
    <tr class="consumption" *ngIf="i.consumption.length === 0">
      <td colspan="2"></td>
      <td colspan="4">No consumption yet</td>
    </tr>
    <tr class="consumption" *ngFor="let c of i.consumption">
      <td colspan="2"></td>
      <td>
        <span *ngIf="c.ratedAmount"
          >{{ c.ratedAmount | makeNice: 2 }} (= {{ c.amount | makeNice: 2 }} x
          {{ c.ratingFactor }})</span
        >
        <span *ngIf="!c.ratedAmount">{{ c.amount | makeNice: 2 }}</span>
      </td>
      <td>{{ c.sku }} / {{ c.feature }}</td>
      <td></td>
      <td>{{ c.from | date }} - {{ c.to | date }}</td>
      <td>
        <span *ngIf="c.source">Source: {{ c.source.id }}</span>
      </td>
    </tr>
  </ng-container>
</table>
